<pre class="highlight javascript"><span class="hljs-keyword">var</span> APIBuilder = <span class="hljs-built_in">require</span>(<span class="hljs-string">'apibuilder'</span>);

<span class="hljs-keyword">var</span> TestAPI = APIBuilder.API.extend({
    <span class="hljs-attr">name</span>: <span class="hljs-string">'test'</span>,
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/test/:id'</span>,
    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,
    <span class="hljs-attr">description</span>: <span class="hljs-string">'this is an api that shows how to implement an API'</span>,
    <span class="hljs-attr">model</span>: <span class="hljs-string">'user'</span>,
    <span class="hljs-attr">before</span>: <span class="hljs-string">'pre_example'</span>,
    <span class="hljs-attr">after</span>: <span class="hljs-string">'post_example'</span>,
    <span class="hljs-attr">parameters</span>: {
        <span class="hljs-attr">id</span>: {<span class="hljs-attr">description</span>:<span class="hljs-string">'the user id'</span>}
    },
    <span class="hljs-attr">action</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">req, resp, next</span>) </span>{
        <span class="hljs-comment">// invoke the model find method passing the id parameter</span>
        <span class="hljs-comment">// stream the result back as response</span>
        resp.stream(req.model.find, req.params.id, next);
    }
});

<span class="hljs-built_in">module</span>.exports = TestAPI;</pre>
